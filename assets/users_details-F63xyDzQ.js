import{_ as h,u as y,k as p,l as m,m as b,c,a as s,w as i,v as a,e as d,o as u}from"./index-DJzXngCq.js";import{a as _}from"./userService-CASxWzDT.js";const f={name:"UsersDetails",data(){return{registration:"",details:Object,currentAbsolute:"",currentDaily:"",SavingsAbsolute:"",SavingsDaily:"",id:Number,loginStore:y()}},props:{userId:Number},methods:{async submitAccountsInfo(){const t={absolute:this.currentAbsolute,daily:this.currentDaily,type:"CURRENT"},e={absolute:this.SavingsAbsolute,daily:this.SavingsDaily,type:"SAVINGS"};try{const r=await p(this.userId,t,e);console.log(r),this.$router.replace("/users")}catch(r){console.error(r),alert(r.response.data)}},async editAccountsInfo(){const t={absolute:this.currentAbsolute,daily:this.currentDaily,type:"CURRENT"},e={absolute:this.SavingsAbsolute,daily:this.SavingsDaily,type:"SAVINGS"};try{const r=await m(this.userId,t,e);console.log(r),this.$router.replace("/users")}catch(r){console.error(r),alert(r.response.data)}},async closeAccounts(){try{const t=await b(this.userId);console.log(t),this.$router.replace("/accounts")}catch(t){console.error(t),alert(t.response.data)}},hasUsertype(t){return this.loginStore.hasUsertype(t)}},async mounted(){try{this.userId==null?this.hasUsertype("ADMIN")?this.id=0:this.id=this.loginStore.requestUserData:this.id=this.userId,console.log(this.id);const t=await _(this.id);this.details=t,this.currentAbsolute=t.accountsInfo.CURRENT.absolute,this.currentDaily=t.accountsInfo.CURRENT.daily,this.SavingsAbsolute=t.accountsInfo.SAVINGS.absolute,this.SavingsDaily=t.accountsInfo.SAVINGS.daily,console.log(t.accountsInfo.CURRENT.absolute),console.log(this.currentAbsolute)}catch(t){console.log(t)}}},v={class:"row g-3 mx-5 pt-5 mb-4",style:{"max-width":"700px"}},g={class:"col-6"},A=s("label",{for:"inputEmail4",class:"form-label"},"Email",-1),I=["value"],N={class:"col-4"},D=s("label",{for:"inputBsn",class:"form-label"},"BSN",-1),S=["value"],U={class:"col-4"},x=s("label",{for:"inputFirstName",class:"form-label"},"First Name",-1),w=["value"],k={class:"col-4"},C=s("label",{for:"inputLastName",class:"form-label"},"Last Name",-1),E=["value"],R={class:"col-md-4"},V=s("label",{for:"inputPhone",class:"form-label"},"Phone Number",-1),L=["value"],M={class:"row g-3"},B=s("h4",{style:{color:"white"}},"Current Account",-1),T={class:"col-md-4"},G=s("label",{for:"currentAbsolute",class:"form-label"},"Absolute Limit",-1),z=["readonly"],F={class:"col-md-4"},P=s("label",{for:"currentDaily",class:"form-label"},"Daily Limit",-1),O=["readonly"],j={class:"row g-3"},q=s("h4",{style:{color:"white"}},"Savings Account",-1),H={class:"col-md-4"},J=s("label",{for:"savingsAbsolute",class:"form-label"},"Absolute Limit",-1),K=["readonly"],Q={class:"col-md-4"},W=s("label",{for:"savingsDaily",class:"form-label"},"Daily Limit",-1),X=["readonly"],Y={key:0,class:"col-12"},Z={key:1,class:"col-12"};function $(t,e,r,ss,o,n){return u(),c("form",v,[s("div",g,[A,s("input",{type:"email",class:"form-control",id:"inputEmail4",value:o.details.email,readonly:""},null,8,I)]),s("div",N,[D,s("input",{type:"number",class:"form-control",id:"inputBsn",value:o.details.bsnNumber,readonly:""},null,8,S)]),s("div",U,[x,s("input",{type:"text",class:"form-control",id:"inputFirstName",value:o.details.firstName,readonly:""},null,8,w)]),s("div",k,[C,s("input",{type:"text",class:"form-control",id:"inputLastName",value:o.details.lastName,readonly:""},null,8,E)]),s("div",R,[V,s("input",{type:"number",class:"form-control",value:o.details.phoneNumber,id:"inputPhone",readonly:""},null,8,L)]),s("div",M,[B,s("div",T,[G,i(s("input",{type:"number",class:"form-control",id:"currentAbsolute","onUpdate:modelValue":e[0]||(e[0]=l=>o.currentAbsolute=l),readonly:!n.hasUsertype("ADMIN")},null,8,z),[[a,o.currentAbsolute]])]),s("div",F,[P,i(s("input",{type:"number",class:"form-control",id:"currentDaily","onUpdate:modelValue":e[1]||(e[1]=l=>o.currentDaily=l),readonly:!n.hasUsertype("ADMIN")},null,8,O),[[a,o.currentDaily]])])]),s("div",j,[q,s("div",H,[J,i(s("input",{type:"number",class:"form-control",id:"savingsAbsolute","onUpdate:modelValue":e[2]||(e[2]=l=>o.SavingsAbsolute=l),readonly:!n.hasUsertype("ADMIN")},null,8,K),[[a,o.SavingsAbsolute]])]),s("div",Q,[W,i(s("input",{type:"number",class:"form-control",id:"savingsDaily","onUpdate:modelValue":e[3]||(e[3]=l=>o.SavingsDaily=l),readonly:!n.hasUsertype("ADMIN")},null,8,X),[[a,o.SavingsDaily]])])]),t.$route.path=="/registrations"&&n.hasUsertype("ADMIN")?(u(),c("div",Y,[s("a",{class:"nav-link p-2",onClick:e[4]||(e[4]=(...l)=>n.submitAccountsInfo&&n.submitAccountsInfo(...l)),style:{"font-size":"18px",cursor:"pointer",width:"150px",height:"50px",float:"right","text-align":"center"}},"Open Account")])):d("",!0),t.$route.path=="/users"&&n.hasUsertype("ADMIN")?(u(),c("div",Z,[s("a",{class:"nav-link p-2",onClick:e[5]||(e[5]=(...l)=>n.editAccountsInfo&&n.editAccountsInfo(...l)),style:{"font-size":"18px",cursor:"pointer",width:"150px",height:"50px",float:"right","text-align":"center"}},"Edit"),s("a",{class:"nav-link p-2",onClick:e[6]||(e[6]=(...l)=>n.closeAccounts&&n.closeAccounts(...l)),style:{"font-size":"18px",cursor:"pointer",width:"150px",height:"50px",float:"right","text-align":"center"}},"Delete")])):d("",!0)])}const os=h(f,[["render",$]]);export{os as default};
